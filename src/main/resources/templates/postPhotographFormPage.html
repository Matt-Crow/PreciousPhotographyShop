<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
    <head> 
        <title>Post a new Photograph</title> 
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <!--/*/ <th:block th:include="fragments.html :: headerfiles"></th:block> /*/-->
    </head>
    <body>
        <nav th:insert="fragments.html :: pages-nav"></nav>
        <form method="POST" action="#" th:action="@{/testPostPhoto}" enctype="multipart/form-data" th:object="${formResponse}">
            <div>
                <label for="photo">Choose a photograph to post</label>
                <input th:field="*{file}" type="file" id="photo" name="photo" accept="image/jpg"/>
            </div>
            <div>
                <label for="name">Name this photo</label>
                <input th:field="*{name}" name="name" type="text"/>
            </div>
            <div>
                <label for="price">Choose base photograph price (in dollars)</label>
                <!--https://stackoverflow.com/questions/14650932/set-value-to-currency-in-input-type-number-->
                <input name="price" type="number" step="0.01"/>
            </div>
            <div>
                <label for="rights">Choose purchaser rights</label>
                <select name="rights" id="rights" multiple>
                    <option value="edit">purchaser may alter this photograph</option>
                    <option value="distribute">purchaser may redistribute this photograph</option>
                    <option value="display">purchaser may show this photograph in media, such as movies</option>
                </select>
            </div>
            <div>
                <label for="categories">Categorize this photo (shift click to select multiple)</label>
                <select name="categories" id="categories" multiple>
                    <!--https://stackoverflow.com/questions/36500731/how-to-bind-an-object-list-with-thymeleaf-->
                    <option th:each="categoryName, idxInfo : ${categoryNames}" th:name="|categoryNames[${idxInfo.index}]|" th:value="${categoryName}" th:text="${categoryName}"></option>
                </select>
                <p>TODO: add ability to make new categories</p>
            </div>
            <div>
                <label for="isRecurring">Is this a recurring sale?</label>
                <input type="checkbox" id="isRecurring" name="isRecurring"/>
            </div>
            <div>
                <input type="submit" value="Submit" />
            </div>
        </form>
        <div th:insert="fragments.html :: end"></div>
    </body>
</html>